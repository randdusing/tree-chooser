<div class="treeChooser">
  <div class="treeChooser-input" tabindex="0"
       ng-class="{'treeChooser-input-focused': vm.focused}">
    <span ng-if="vm.enablePills"
          ng-click="vm.removeFromModel(item); focusInput();"
          ng-repeat="item in vm.getModelAsItems()">
      {{item[vm.properties.label]}}
    </span>
    <input type="text"
           ng-disabled="vm.ngDisabled"
           ng-model="vm.filterText"
           ng-keydown="vm.onTextKeyDown($event)"
           ng-focus="vm.focused = true; vm.tryShow($event);"
           ng-blur="vm.focused = false"
           placeholder="{{vm.ngPlaceholder}}">
  </div>

  <ul ng-show="vm.shown"
      ng-keydown="vm.onListKeyDown($event)"
      ng-style="getListStyles()"
      class="treeChooser-list"
      tabindex="-1">
    <li ng-repeat="item in vm.getPresentItems()"
        tree-chooser-item="item"></li>
    <li ng-if="!vm.getPresentItems().length">No match</li>
  </ul>
</div>
